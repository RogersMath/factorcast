<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FactorCast</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <audio id="background-music" loop>
        <source src="BGmusic.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <audio id="sfx-correct-step">
        <source src="correct_step.mp3" type="audio/mpeg"> 
    </audio>
    <audio id="sfx-success-solve">
        <source src="success_solve.mp3" type="audio/mpeg">
    </audio>

    <div id="sound-controls">
        <button id="mute-btn" class="sound-control-button">ðŸ”Š</button>
        <input type="range" id="volume-slider" class="sound-control-slider" min="0" max="1" step="0.05" value="0.5">
    </div>

    <div id="game-container">
        <header id="game-header">
            <nav id="action-buttons">
                <button id="lab-btn" class="action-button">Laboratory</button>
                <button id="shop-btn" class="action-button">Shop</button>
                <button id="explore-btn" class="action-button">Explore</button>
                <button id="spellbook-btn" class="action-button">Spellbook</button>
            </nav>
            <!-- lab-options-area and spell-display-area were here in a previous version you pasted, -->
            <!-- but they make more sense outside the header if they are main interaction panels. -->
            <!-- Ensure they are where you intend them to be. For now, I'm assuming they are outside header. -->
            <div id="player-stats">
                <span id="stat-hp">HP: 50/50</span> |
                <span id="stat-mp">MP: 30/30</span> |
                <span id="stat-gold">Gold: 100</span> |
                <span id="stat-skill">Skill: Novice</span>
            </div>
        </header>

        <!-- These divs are for dynamic content, makes sense for them to be siblings of main-content or inside it -->
        <div id="lab-options-area" class="display-area hidden">
            <!-- Options for laboratory actions will appear here -->
        </div>
        <div id="spell-display-area" class="display-area hidden">
            <!-- Spells and their 'card art' will be shown here -->
        </div>

        <main id="main-content">
            <div id="story-display" class="display-area">
                <p>Welcome, Arithmancer! The land of Algebraria is troubled by a Great Discontinuity...</p>
            </div>
            <div id="problem-area" class="display-area hidden"></div>
            <div id="step-instruction-area" class="display-area hidden"></div>
            <div id="input-area" class="hidden">
                <input type="text" id="answer-input" placeholder="Enter your answer here...">
                <button id="submit-answer-btn" class="action-button">Submit</button>
            </div>
            <h1>FactorCast</h1> <!-- Title at the bottom of main -->
            <div id="feedback-area" class="display-area hidden"></div>
        </main>
    </div>

    <script src="utils.js"></script>
    <script src="cards.js"></script> <!-- Assuming you have this -->
    <script src="enemies.js"></script> <!-- Assuming you have this -->
    <script src="problem_generators.js"></script> <!-- <<< NEW SCRIPT TAG -->
    <script src="main.js"></script>
</body>
</html>
